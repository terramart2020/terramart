<!DOCTYPE html>
{% load static %}
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0" >

    <title>Terramart</title>
    <link rel="icon" type="image/png"  href="{% static 'images/terramart.png' %}">
    
    <!-- Font Awesome -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" rel="stylesheet"/>

    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap" rel="stylesheet"/>

    <!-- MDB -->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.css" rel="stylesheet"/>

    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">
    
    <script type="text/javascript">
        var user = '{{request.user}}'
        
        function getToken(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie !== '') {
                var cookies = document.cookie.split(';');
                for (let i = 0; i < cookies.length; i++) {
                    var cookie = cookies[i].trim();
                    // Does this cookie string begin with the name we want?
                    if (cookie.substring(0, name.length + 1) === (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }

        var csrftoken = getToken('csrftoken');
    </script>
</head>
<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <!-- Container wrapper -->
        <div class="container-fluid">
        <!-- Navbar brand -->
        <a class="navbar-brand" href="{% url 'store' %}">
            <img
              src="{% static 'images/terramartwhite.png' %}"
              height="30"
              alt="Terramart's Logo"
              loading="lazy"
            />
            Terramart
        </a>
    
        <!-- Toggle button -->
        <button
            class="navbar-toggler"
            type="button"
            data-mdb-toggle="collapse"
            data-mdb-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent"
            aria-expanded="false"
            aria-label="Toggle navigation"
        >
            <i class="fas fa-bars"></i>
        </button>
    
        <!-- Collapsible wrapper -->
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <!-- Left links -->
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="{% url 'store' %}">Store</a>
                </li>

            </ul>
            <!-- Left links -->

            <!-- Right Links -->
            <ul class="navbar-nav d-flex flex-row">
                <!-- Badge -->
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'cart' %}">
                    <span><i class="fas fa-shopping-cart"></i></span>
                    <span class="badge rounded-pill badge-notification bg-danger" id="cart-total">{{cartItems}}</span>
                    </a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Sign Up</a>
                </li>

                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="#">Login</a>
                </li>
            </ul>
            <!-- Right Links --> 
        </div>
        <!-- Collapsible wrapper -->
        </div>
        <!-- Container wrapper -->
    </nav>
    <!-- Navbar -->
   
    <div class="container">
        <br>
        {% block content %}

        {% endblock content %}
    </div>

    <!-- MDB -->
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.0.0/mdb.min.js"></script>

    <script type="text/javascript" src="{% static 'js/cart.js' %}"></script>
    
</body>
</html>